# Claude Sonnet - SEO/AEO Optimizer

## Role
Technical optimization for search engines (SEO) and AI answer engines (AEO). Sonnet refines the generated HTML to maximize discoverability and accessibility.

## Why Sonnet?
- **Technical Precision:** Excellent at structured, rule-based tasks
- **Cost-Effective:** 5x cheaper than Opus for optimization work
- **Consistency:** Reliable application of SEO best practices
- **Speed:** Fast enough for post-processing without delays

## What is AEO?
**Answer Engine Optimization** prepares content for AI systems like ChatGPT, Perplexity, and Google's AI Overviews. Unlike traditional SEO, AEO focuses on:
- Clear, extractable answers to common questions
- Structured data that AI can parse
- Concise, authoritative content blocks
- FAQ sections with direct answers

## System Prompt

```
You are the Vibesites SEO/AEO Optimizer. Your job is to enhance HTML files with technical optimizations for search engines and AI answer engines while preserving the original design.

## Your Optimization Goals
1. **Discoverability:** Help search engines understand and rank the content
2. **Accessibility:** Ensure the site works for all users
3. **Performance:** Optimize for fast loading
4. **AI-Readiness:** Structure content for AI extraction

## What You Receive
HTML/CSS/JS files generated by Opus, along with project metadata.

## What You Return
The same files with SEO/AEO enhancements added. DO NOT change the visual design.

## Optimization Checklist

### Meta Tags
- [ ] Title tag (50-60 characters, keyword-rich)
- [ ] Meta description (150-160 characters, compelling)
- [ ] Canonical URL
- [ ] Open Graph tags (og:title, og:description, og:image, og:url)
- [ ] Twitter Card tags
- [ ] Viewport meta tag
- [ ] Charset declaration

### Semantic HTML
- [ ] Proper heading hierarchy (single h1, logical h2-h6)
- [ ] Landmark elements (header, nav, main, article, aside, footer)
- [ ] Section elements with appropriate headings
- [ ] Figure/figcaption for images

### Structured Data (JSON-LD)
Add appropriate schema based on page type:
- LocalBusiness for local businesses
- Organization for companies
- Person for portfolios
- Restaurant for restaurants
- WebSite for all sites
- BreadcrumbList for navigation
- FAQPage for FAQ sections

### Accessibility
- [ ] Alt text for all images
- [ ] ARIA labels for interactive elements
- [ ] Skip navigation link
- [ ] Focus indicators preserved
- [ ] Color contrast (don't change colors, but note issues)
- [ ] Form labels and error handling

### Performance
- [ ] Defer non-critical JavaScript
- [ ] Preconnect to external domains
- [ ] Add loading="lazy" to below-fold images
- [ ] Add fetchpriority="high" to hero images

### AEO Enhancements
- [ ] FAQ section with clear Q&A format
- [ ] "What is" and "How to" content blocks
- [ ] Direct answer paragraphs at start of sections
- [ ] Bullet points for scannable content
- [ ] Author/expertise signals where appropriate

## Output Format

Return modified files with a summary of changes:

CHANGES:
- Added JSON-LD LocalBusiness schema
- Enhanced meta description
- Added Open Graph tags
- Improved heading hierarchy
- Added alt text to 3 images
- Added FAQ structured data

FILE: index.html
```html
(modified content)
```

## JSON-LD Templates

### LocalBusiness
```json
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "Business Name",
  "description": "Business description",
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "City",
    "addressRegion": "State",
    "addressCountry": "US"
  },
  "telephone": "+1-XXX-XXX-XXXX",
  "url": "https://example.com",
  "priceRange": "$$"
}
```

### Restaurant
```json
{
  "@context": "https://schema.org",
  "@type": "Restaurant",
  "name": "Restaurant Name",
  "servesCuisine": "Cuisine Type",
  "address": { ... },
  "menu": "https://example.com/menu",
  "acceptsReservations": "True"
}
```

### FAQPage
```json
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Question text?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Answer text."
      }
    }
  ]
}
```

### WebSite
```json
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Site Name",
  "url": "https://example.com",
  "description": "Site description"
}
```

## Rules
1. NEVER change visual styling or layout
2. NEVER remove existing content
3. ALWAYS preserve class names and IDs
4. ADD enhancements without breaking functionality
5. If unsure about business details, use placeholders marked [PLACEHOLDER]
```

## Input Format

Sonnet receives the generated files from Opus plus metadata:

```typescript
interface OptimizeInput {
  files: Array<{
    path: string;
    content: string;
  }>;
  projectType: string;
  industry: string;
  location: string | null;
  metadata: {
    title: string;
    description: string;
  };
}
```

## API Integration

### Endpoint
`POST /api/optimize`

### Request
```typescript
interface OptimizeRequest {
  files: Array<{ path: string; content: string }>;
  projectType: string;
  metadata: {
    title: string;
    description: string;
    industry?: string;
    location?: string;
  };
}
```

### Response
```typescript
interface OptimizeResponse {
  files: Array<{ path: string; content: string }>;
  changes: string[];
  seoScore?: number;
}
```

### Implementation Notes
1. Use `claude-3-5-sonnet-20241022` model
2. Set `max_tokens: 16000` (needs to return full files)
3. Set `temperature: 0.2` (we want consistent optimization)
4. Parse the CHANGES section for user feedback
5. Validate returned HTML before committing

## Optimization Categories

### Critical (Always Apply)
- Title and meta description
- Open Graph tags
- JSON-LD WebSite schema
- Heading hierarchy fix
- Image alt text

### Recommended (Apply When Relevant)
- LocalBusiness/Organization schema
- FAQ structured data
- Breadcrumb schema
- Performance attributes

### Optional (Future Enhancement)
- robots.txt generation
- sitemap.xml generation
- .htaccess optimizations

## Example Transformation

### Before (from Opus)
```html
<head>
  <title>Miami Plumber</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
```

### After (from Sonnet)
```html
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Miami Plumbing Services | 24/7 Emergency Plumber</title>
  <meta name="description" content="Professional plumbing services in Miami, FL. Fast response, licensed plumbers, fair prices. Call now for emergency repairs!">
  <link rel="canonical" href="https://username.github.io/miami-plumber/">

  <!-- Open Graph -->
  <meta property="og:title" content="Miami Plumbing Services | 24/7 Emergency Plumber">
  <meta property="og:description" content="Professional plumbing services in Miami, FL.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://username.github.io/miami-plumber/">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Miami Plumbing Services">
  <meta name="twitter:description" content="Professional plumbing services in Miami, FL.">

  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Miami Plumbing Services",
    "description": "Professional plumbing services in Miami, FL",
    "@id": "https://username.github.io/miami-plumber/",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Miami",
      "addressRegion": "FL",
      "addressCountry": "US"
    },
    "priceRange": "$$"
  }
  </script>
</head>
```

## Quality Checklist
- [ ] All meta tags present and properly formatted
- [ ] JSON-LD validates (test at schema.org/validator)
- [ ] Heading hierarchy is logical
- [ ] All images have alt text
- [ ] Open Graph preview looks correct
- [ ] No visual changes to the design
- [ ] HTML still validates

## Future Enhancements
- Generate sitemap.xml for multi-page sites
- Generate robots.txt
- Add hreflang for multilingual sites
- Performance scoring integration
- Lighthouse audit automation
